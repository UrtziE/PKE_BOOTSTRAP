<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Araudia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            background-color: #f8f9fa; /* Fondo suave para mejor contraste */
        }
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            overflow: hidden; /* Evita scroll en el body */
        }

        h1 {
            text-align: center;
            width: 100%;
        }

        .carousel-wrapper {
            display: flex;
            align-items: center;
            justify-content: center; /* Centra el bloque entero */
            width: 100%;
            max-width: 400px; /* Limita el ancho en pantallas grandes */
            position: relative;
        }

        /* --- CONTENEDOR VERTICAL DE CARDS --- */
        .cards-container {
            display: flex;
            flex-direction: column;
            align-items: center;      /* ¡ESTO CENTRA LAS CARDS! */
            gap: 20px;
            
            height: 55vh;             /* Altura relativa a la pantalla */
            width: 100%;
            
            overflow-y: auto;         /* Scroll vertical */
            scroll-behavior: smooth;
            padding: 10px 0;          /* Espacio arriba y abajo */
            
            /* Ocultar barra de scroll (estética móvil) */
            scrollbar-width: none;    /* Firefox */
        }
        .cards-container::-webkit-scrollbar { 
            display: none;            /* Chrome/Safari */
        }

        .card {
            width: 220px;             /* Un poco más anchas para móvil */
            height: 320px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: none;             /* Sin borde se ve más limpio */
            box-shadow: 0 4px 15px rgba(0,0,0,0.15); /* Sombra más moderna */
            border-radius: 15px;      /* Bordes redondeados */
            background: white;
        }

        .card-img-wrapper {
            height: 65%;
            width: 100%;
        }
        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .card-body {
            height: 35%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
        }
        
        .card-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: #333;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        #descripcion {
            margin-top: 20px;
            width: 85%;
            text-align: center;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* Botones flotantes o laterales */
        .btn-wrapper {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-right: 15px;
            z-index: 10;
        }
        
        /* Estilo botones redondos */
        .btn-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

    </style>
</head>
<body>
    <div class="main-container">
        <h1 class="mb-3 fw-bold text-primary">Araudia</h1>

        <div class="carousel-wrapper">
            <div class="btn-wrapper">
                <button class="btn btn-primary btn-circle" onclick="scrollCards(-1)">&#8593;</button>
                <button class="btn btn-primary btn-circle" onclick="scrollCards(1)">&#8595;</button>
            </div>

            <div class="cards-container" id="cards-container"></div>
        </div>

        <div id="descripcion" class="alert alert-light border" style="display: none;"></div>
    </div>

    <script>
        const titulos = [
          "1. DESKRIBAPEN OROKORRA ETA BETE BEHARRAK",
          "2. ZEINTZUK DIRA HELBURUAK ETA ZER LANTZEN DA",
          "3. IZEN-EMATEA ETA DEIALDIAK",
          "4. LANEN ZUZENDARITZA",
          "5. GAIAK ETA ESPEZIALITATEA",
          "6. LANA ESLEITZEA ETA GAIA AUKERATZEA",
          "7. EBALUAZIO-EPAIMAHAIA",
          "8. LANAREN AURKEZPENA ETA DEFENTSA",
          "9. EBALUAZIOA ETA KALIFIKAZIOA",
          "10. GRADU AMAIERAKO LAN BATZORDEA",
          "11. ARAUDI HAU EGUNERATZEA"
        ];

        const totalCards = titulos.length;
        const cardsContainer = document.getElementById('cards-container');
        // Puedes rellenar descripciones aquí:
        const descripciones = {
            1: "Hemen Araudiaren deskribapen orokorra agertuko da...",
            2: "Helburuei buruzko informazio gehigarria..."
        };

        for (let i = 0; i < totalCards; i++) {
            const card = document.createElement('div');
            card.className = 'card';
            // CORREGIDO: uso de backticks (`)
            card.id = `card-${i+1}`;

            // CORREGIDO: uso de backticks (`) para el template string
            card.innerHTML = `
                <div class="card-img-wrapper">
                    <img src="img/artikulu${i+1}.png" alt="Artikulua ${i+1}" onclick="mostrarDescripcion(${i+1})">
                </div>
                <div class="card-body">
                    <p class="card-title">${titulos[i]}</p>
                </div>
            `;
            cardsContainer.appendChild(card);
        }

        function mostrarDescripcion(id) {
            const descripcionDiv = document.getElementById('descripcion');
            descripcionDiv.style.display = 'block';
            descripcionDiv.innerHTML = descripciones[id] || ("Informazioa: Artikulua " + id);
        }

        // Scroll VERTICAL
        function scrollCards(direction) {
            const cardHeight = cardsContainer.querySelector('.card').offsetHeight + 20; // + gap
            cardsContainer.scrollBy({ top: direction * cardHeight, behavior: 'smooth' });
        }

        // Drag vertical (Mouse & Touch unificados conceptualmente)
        let isDragging = false;
        let startY;
        let scrollStart;

        // Mouse events
        cardsContainer.addEventListener('mousedown', (e) => {
            isDragging = true;
            startY = e.pageY - cardsContainer.offsetTop;
            scrollStart = cardsContainer.scrollTop;
            cardsContainer.style.cursor = 'grabbing';
        });

        cardsContainer.addEventListener('mouseleave', () => { isDragging = false; cardsContainer.style.cursor = 'grab'; });
        cardsContainer.addEventListener('mouseup', () => { isDragging = false; cardsContainer.style.cursor = 'grab'; });

        cardsContainer.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const y = e.pageY - cardsContainer.offsetTop;
            const walk = (startY - y) * 1.5;
            cardsContainer.scrollTop = scrollStart + walk;
        });

        // Touch events (Nativo funciona bien, pero esto ayuda si quieres control extra)
        let touchStartY = 0;
        let touchScrollStart = 0;

        cardsContainer.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].pageY;
            touchScrollStart = cardsContainer.scrollTop;
        });

        cardsContainer.addEventListener('touchmove', (e) => {
            // No preventDefault aquí para permitir el scroll nativo suave
            const touchY = e.touches[0].pageY;
            // Opcional: Lógica extra si fuera necesaria
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>