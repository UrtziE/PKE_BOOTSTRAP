<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Araudia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            background-color: #f8f9fa;
        }
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        .carousel-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 400px;
            position: relative;
        }

        .cards-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px; 
            height: 60vh; 
            width: 100%;
            overflow-y: auto;
            scroll-behavior: smooth;
            padding: 10px 0;
            scrollbar-width: none; /* Firefox */
        }
        .cards-container::-webkit-scrollbar { display: none; /* Chrome */ }

        /* Estilo de la Tarjeta */
        .card {
            width: 240px; /* Un poco más ancho para leer mejor */
            height: 300px; 
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .card:active {
            transform: scale(0.98);
        }

        .card-img-wrapper {
            height: 65%;
            width: 100%;
            pointer-events: none; 
        }
        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .card-body {
            height: 35%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            pointer-events: none;
        }
        .card-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: #333;
            line-height: 1.3;
            margin: 0;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* --- ESTO ES LO NUEVO PARA QUE EL TEXTO SALGA DEBAJO --- */
        .card-details {
            display: none; /* Oculto por defecto */
            width: 240px;  /* Mismo ancho que la card */
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 15px 15px; /* Redondeado solo abajo */
            padding: 15px;
            font-size: 0.85rem;
            color: #444;
            text-align: left;
            box-shadow: 0 8px 10px rgba(0,0,0,0.05);
            margin-top: -12px; /* Pegado a la tarjeta de arriba */
            margin-bottom: 15px; 
            
            /* --- LA CLAVE PARA QUE FUNCIONEN LOS \n --- */
            white-space: pre-line; 
        }

        .btn-wrapper {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-right: 15px;
        }
        .btn-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="main-container">
        <h1 class="mb-3 fw-bold text-primary">Araudia</h1>

        <div class="carousel-wrapper">
            <div class="btn-wrapper">
                <button class="btn btn-primary btn-circle" onclick="scrollCards(-1)">&#8593;</button>
                <button class="btn btn-primary btn-circle" onclick="scrollCards(1)">&#8595;</button>
            </div>

            <div class="cards-container" id="cards-container">
                </div>
        </div>
    </div>

    <script>
        const titulos = [
          "1. DESKRIBAPEN OROKORRA ETA BETE BEHARRAK",
          "2. ZEINTZUK DIRA HELBURUAK ETA ZER LANTZEN DA",
          "3. IZEN-EMATEA ETA DEIALDIAK",
          "4. LANEN ZUZENDARITZA",
          "5. GAIAK ETA ESPEZIALITATEA",
          "6. LANA ESLEITZEA ETA GAIA AUKERATZEA",
          "7. EBALUAZIO-EPAIMAHAIA",
          "8. LANAREN AURKEZPENA ETA DEFENTSA",
          "9. EBALUAZIOA ETA KALIFIKAZIOA",
          "10. GRADU AMAIERAKO LAN BATZORDEA",
          "11. ARAUDI HAU EGUNERATZEA"
        ];

        // TUS DESCRIPCIONES CON \n
        const descripciones = {
            1: "-Ikasle bakoitzak banaka lan bat egin behar du, zuzendariek gainbegiratuta. \n\n-Gradu amaierako lan bat defendatu eta ebaluatu ahalko da gehienez 3 hautazko irakasgai gainditzea falta direnean, hau da, 3 eta 4 maila artean 18 hautazko kreditu falta zaionean. \n\n-Informatika Ingeniaritzako Graduan, lan hau Gradu Amaierako Lana izena duen derrigorrezko irakasgaiari dagokio eta 12 kredituko lan-karga du",
            2: "Helburu nagusia graduan lortutako gaitasunak sendotzea eta gaitasun horiek praktikan aplikatzeko trebetasunak garatzea da. Horretarako, ikasketetan eta espezialitatean prestakuntza akademikoarekin lotutako arazo bat aztertu, irtenbide egokia diseinatu eta ezarriko da. \n \n Lana egin bitartean, trebetasun hauek garatu eta egiaztatuko dira: \n\n -Lanean proposatutako helburuak lortzea\n\n-Egin beharreko lana planifikatzea eta kudeatzea\n\n-Egindako lanaren memoria idaztea\n\n-Egindako lana jendaurrean aurkeztea",
            3: "-Lanaren matrikula beste irakasgai baten modu berdinean matrikula orokorrean aukeratzen da\n\n-Matrikulak ikasturte bakoitzean bi deialdi ofizial egiteko eskubidea emango du. Ebaluatuak izan ez diren edo ikasturterako ezarritako deialdietan beren lana defendatu ez duten ikasleak berriro matrikulatu beharko dira\n\n-Ikasleek GAL-aren hizkuntza aukeratuko dute matrikula egiterakoan",
            5: "-Ikasleak GAL-a bere espezialitatearen barruan egin beharko du\n\n-Ikasleak buruan gai bat badu GAL-a gai horri buruz egin dezake, bestela, fakultateak proposatutako gaien artean bat aukeratu beharko du",
            6: "Lan motak: \n\n-Adostutakoak: Ikasle eta irakasle baten artean erabakitzen da lanaren gaia. Lanaren zuzendaria irakaslea izango da\n\n-Eskainitakoak: Ikasle, irakasle eta kanpoko enpresa bateko tutore baten artean erabakitzen da lanaren gaia. Irakasleaz ez ezik, enpresako langileak ere lanaren zuzendariak izan daitezke\n\n-Kanpo erakundeetakoak: Ikasleak bere espezialitatearen sailak eskaintzen dituen lanen artean bat aukeratu beharko du. Lanaren zuzendaria irakasle bat izango da \n\n\n Lan bat onartzeko informazio hau jakin behar da aurrez aurre: Espezialitatea, mota, zuzendaritza,  izenburua, deskribapena, hizkuntza(eus/gaz/ing), beharrezko baliabideak, gomendioak eta jabetza intelektuala eta argitaratzeko eskubideak \n\nGAL-a gainditzen ez duen ikasleak lanaren luzapena eska dezake",
            7: "Epaimahaiaren osaera:\n\n -Lehendakaria: Fakultateko Batzarrak izendatutako pertsona\n\n-Idazkaria: Lanaren zuzendaria\n\nKidea: Gaiaren inguruan ezagutzak dituen irakaslea",
            8: "-Memoria formatua librea da eta 60 orrialde inguruko luzera izatea gomendatzen da\n\n-Lanaren poster bertikal bisual bat egitea gomendatzen da defentsaren datarekin\n\n-Defentsaren data gutxienez hiru egun lehenago argitaratuko da\n\n-Defentsa memoria idatzi den hizkuntzan egin beharko da eta gomendatzen da 20 minututan egitea,  gehieneko denbora 30 minutu izanik",
            9: "Kalifikazioa 0-10 bitartean izango da. “Ohorezko Matrikularen” aipamena epaimahaiak proposatutako lanei eman ahal izango zaie, baldin eta 9ko kalifikazioa edo handiagoa badute\n\nSuspendituz gero, epaimahaiak txosten bat osatuko du lana hobetzeko gomendioekin aurrerago berriz kalifikatua izateko",
            10: "Fakultatean GAL-en Batzorde bat egongo da, GAL-ari buruzko hainbat irizpide eta dokumentu zehazteko.",
            11: "GAL-aren Lan batzordeak araudi honetan aldaketak proposa ditzake eta Zentroko Batzordeak onar ditzan. Aldaketa hauek onartuz gero, hurrengo ikasturtean aplikatuko lirateke."

        };

        const totalCards = titulos.length;
        const cardsContainer = document.getElementById('cards-container');

        for (let i = 0; i < totalCards; i++) {
            const id = i + 1;
            
            // 1. Crear la CARD (Portada)
            const card = document.createElement('div');
            card.className = 'card';
            card.id = `card-${id}`;
            // Al hacer click en la carta, abrimos SU descripción
            card.onclick = () => toggleDescription(id, card);

            card.innerHTML = `
                <div class="card-img-wrapper">
                    <img src="img/artikulu${id}.png" alt="Artikulua ${id}">
                </div>
                <div class="card-body">
                    <p class="card-title">${titulos[i]}</p>
                </div>
            `;

            // 2. Crear el DIV DE DETALLES (Oculto inicialmente)
            const details = document.createElement('div');
            details.className = 'card-details';
            details.id = `details-${id}`;
            
            // Rellenamos con el texto del objeto 'descripciones'
            // Si no hay texto, ponemos uno por defecto.
            details.innerHTML = descripciones[id] || ("Ez dago informaziorik eskuragarri artikulu honetarako (" + id + ").");

            // 3. Añadir ambos al contenedor (La carta Y su detalle debajo)
            cardsContainer.appendChild(card);
            cardsContainer.appendChild(details);
        }

        // Función para abrir/cerrar
        function toggleDescription(id, cardElement) {
            const detailsDiv = document.getElementById(`details-${id}`);
            const isVisible = detailsDiv.style.display === 'block';

            // Opcional: Cerrar todos los demás para que solo haya uno abierto (efecto acordeón limpio)
            /*
            document.querySelectorAll('.card-details').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.card').forEach(el => el.style.borderRadius = "15px");
            */

            if (isVisible) {
                // Si estaba abierto, lo cerramos
                detailsDiv.style.display = 'none';
                cardElement.style.borderRadius = "15px"; // Bordes redondos de nuevo
            } else {
                // Si estaba cerrado, lo abrimos
                detailsDiv.style.display = 'block';
                cardElement.style.borderRadius = "15px 15px 0 0"; // Parte de abajo recta para pegar con el texto
                
                // Pequeño scroll para que se vea bien si queda muy abajo
                setTimeout(() => {
                    detailsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        // Scroll botones
        function scrollCards(direction) {
            const cardHeight = 320; 
            cardsContainer.scrollBy({ top: direction * cardHeight, behavior: 'smooth' });
        }
        
        // Drag Logic
        let isDragging = false;
        let startY, scrollStart;
        cardsContainer.addEventListener('mousedown', (e) => {
            isDragging = true;
            startY = e.pageY - cardsContainer.offsetTop;
            scrollStart = cardsContainer.scrollTop;
            cardsContainer.style.cursor = 'grabbing';
        });
        cardsContainer.addEventListener('mouseup', () => { isDragging = false; cardsContainer.style.cursor = 'default'; });
        cardsContainer.addEventListener('mouseleave', () => isDragging = false);
        cardsContainer.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const y = e.pageY - cardsContainer.offsetTop;
            const walk = (startY - y) * 1.5;
            cardsContainer.scrollTop = scrollStart + walk;
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>