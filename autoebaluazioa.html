<!doctype html>
<html lang="eu">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gradu Amaierako Lanaren Autoebaluazioa</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- TUS ESTILOS -->
    <!-- Aseg√∫rate de que navbar.css tenga los colores del tema -->
    <link rel="stylesheet" href="css/navig.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .correct { border: 2px solid green !important; }
        .incorrect { border: 2px solid red !important; }
        .respuesta-correcta { font-size: 0.9rem; font-weight: bold; margin-top: 0.5rem; }
        .text-success-custom { color: #198754; } /* Verde para modo oscuro/claro */
        .text-danger-custom { color: #dc3545; }  /* Rojo para modo oscuro/claro */
    </style>
</head>

<body>

<!-- =========================================
     HEADER (PEGADO DIRECTAMENTE AQU√ç)
     Para que funcione el cambio de tema
     ========================================= -->

<div id="menu-pc-container"></div>

<!-- CONTENIDO PRINCIPAL -->
<div class="main-container mt-5">
    <div class="row w-100">
        <div class="col-12 col-md-10 offset-md-1">
            <h1 class="text-center mb-4">üéì Gradu Amaierako Lanari buruzko galdetegia</h1>
            <p class="text-center mb-4">Informatika fakultateko gradu amaierako lanaren araudiaren inguruko galdetegia.</p>

            <form id="galForm">
                <!-- TUS PREGUNTAS (Sin cambios, funcionan bien) -->

                <!-- Pregunta 1 -->
                <div class="mb-3 question">
                    <label class="form-label">1Ô∏è‚É£ Zenbat deialdi ofizialetan matrikulatu daiteke ikasle bat ikasturte bakoitzean?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>1 deialdi</option>
                        <option>2 deialdi</option>
                        <option>3 deialdi</option>
                        <option>4 deialdi</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 2 -->
                <div class="mb-3 question">
                    <label class="form-label">2Ô∏è‚É£ Ikasleak GAL-aren hizkuntza aukeratu dezake?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="q2" value="Bai">
                        <label class="form-check-label">Bai</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="q2" value="Ez">
                        <label class="form-check-label">Ez</label>
                    </div>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 3 -->
                <div class="mb-3 question">
                    <label class="form-label">3Ô∏è‚É£ Zeintzuk dira epaimahaiaren osaera?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q3" value="Lehendakaria">
                        <label class="form-check-label">Lehendakaria</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q3" value="Edozein irakasle">
                        <label class="form-check-label">Edozein irakasle</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q3" value="Lanaren zuzendaria">
                        <label class="form-check-label">Lanaren zuzendaria</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q3" value="Gaiaren inguruan ezagutzak dituen irakaslea edo kidea">
                        <label class="form-check-label">Gaiaren inguruan ezagutzak dituen irakaslea edo kidea</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q3" value="Orientatzailea">
                        <label class="form-check-label">Orientatzailea</label>
                    </div>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 4 -->
                <div class="mb-3 question">
                    <label class="form-label">4Ô∏è‚É£ Posiblea da GALren araudia eguneratzea?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>Bai, inolako arazorik gabe.</option>
                        <option>Ez, ez da posible.</option>
                        <option>Bai, baina baldintza batzuk bete behar dira.</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 5 -->
                <div class="mb-3 question">
                    <label class="form-label">5Ô∏è‚É£ Zenbat kredituko lan-karga du GAL batek Informatika Ingeniaritzako Graduan?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>12</option>
                        <option>18</option>
                        <option>10</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 6 -->
                <div class="mb-3 question">
                    <label class="form-label">6Ô∏è‚É£ Zenbat orrialde inguruko luzera izan behar du lanaren memoriak?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>30</option>
                        <option>60</option>
                        <option>100</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 7 -->
                <div class="mb-3 question">
                    <label class="form-label">7Ô∏è‚É£ Denbora muga bat al dago lanaren aurkezpenean eta defentsan? Egiazkoa bada, zenbat?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>Ez</option>
                        <option>Bai, 40 minutu</option>
                        <option>Bai, 30m</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 8 -->
                <div class="mb-3 question">
                    <label class="form-label">8Ô∏è‚É£ Zer gertatzen da lana suspendituz gero?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>Epaimahiak txosten bat osatuko du lana hobetzeko gomendioekin</option>
                        <option>Lanaren gaia aldatu egin beharko dezu</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 9 -->
                <div class="mb-3 question">
                    <label class="form-label">9Ô∏è‚É£ GAL-a EHU organismotik kanpo garatu daiteke?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>Bai</option>
                        <option>Ez</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 10 -->
                <div class="mb-3 question">
                    <label class="form-label">üîü Lan mota adostutakoan, zein izango da lanaren zuzendaria? (Aukeratu zuzenak)</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q10" value="Ausazko irakasle bat">
                        <label class="form-check-label">Ausazko irakasle bat</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q10" value="Enpresako langileak">
                        <label class="form-check-label">Enpresako langileak</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q10" value="Adostatuko irakaslea">
                        <label class="form-check-label">Adostatuko irakaslea</label>
                    </div>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <!-- Pregunta 11 -->
                <div class="mb-3 question">
                    <label class="form-label">11 Ze nota atera beharko duzu ‚ÄúOhorezko Matrikularen‚Äù aipamena lortzeko?</label>
                    <select class="form-select" required>
                        <option value="">Aukeratu bat</option>
                        <option>10 baino gehiago</option>
                        <option>10</option>
                        <option>9 edo gehiago</option>
                    </select>
                    <div class="respuesta-correcta d-none"></div>
                </div>

                <div class="text-center mt-4 pb-5">
                    <button type="submit" class="btn btn-success px-4">Bidali erantzunak</button>
                </div>
            </form>

            <div id="emaitza" class="alert alert-info mt-4 d-none"></div>
        </div>
    </div>
</div>

<!-- Men√∫ m√≥vil inferior -->
<div id="menu-container" class="d-block d-md-none"></div>

<!-- SCRIPTS NECESARIOS -->
<script src="theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("galForm");
        const emaitza = document.getElementById("emaitza");

        // Respuestas correctas
        const correctAnswers = [
            "2 deialdi",
            "Bai",
            ["Lehendakaria", "Gaiaren inguruan ezagutzak dituen irakaslea edo kidea"],
            "Bai, baina baldintza batzuk bete behar dira.",
            "12",
            "60",
            "Bai, 30m",
            "Epaimahiak txosten bat osatuko du lana hobetzeko gomendioekin",
            "Bai",
            ["Enpresako langileak", "Adostatuko irakaslea"],
            "9 edo gehiago"
        ];

        form.addEventListener("submit", (e) => {
            e.preventDefault();
            let score = 0;
            const now = new Date().toLocaleString();
            const questions = form.querySelectorAll(".question");

            questions.forEach((questionDiv, index) => {
                const correctAnswer = correctAnswers[index];
                const feedbackDiv = questionDiv.querySelector(".respuesta-correcta");
                feedbackDiv.classList.remove("d-none");

                const select = questionDiv.querySelector("select");
                const radios = questionDiv.querySelectorAll("input[type='radio']");
                const checkboxes = questionDiv.querySelectorAll("input[type='checkbox']");

                let isCorrect = false;

                // L√≥gica Select
                if (select) {
                    isCorrect = select.value === correctAnswer;
                    select.classList.remove("correct", "incorrect");
                    select.classList.add(isCorrect ? "correct" : "incorrect");
                    feedbackDiv.textContent = isCorrect ? "‚úÖ Zure erantzuna zuzena!" : `‚ùå Erantzun zuzena: ${correctAnswer}`;
                    feedbackDiv.className = isCorrect ? "respuesta-correcta text-success-custom" : "respuesta-correcta text-danger-custom";
                }

                // L√≥gica Radio
                else if (radios.length > 0) {
                    const checkedValue = [...radios].find(r => r.checked)?.value;
                    isCorrect = checkedValue === correctAnswer;
                    feedbackDiv.textContent = isCorrect ? "‚úÖ Zure erantzuna zuzena!" : `‚ùå Erantzun zuzena: ${correctAnswer}`;
                    feedbackDiv.className = isCorrect ? "respuesta-correcta text-success-custom" : "respuesta-correcta text-danger-custom";
                }

                // L√≥gica Checkbox
                else if (checkboxes.length > 0) {
                    const checkedValues = [...checkboxes].filter(c => c.checked).map(c => c.value);
                    isCorrect = correctAnswer.length === checkedValues.length && correctAnswer.every(val => checkedValues.includes(val));
                    feedbackDiv.textContent = isCorrect ? "‚úÖ Zure erantzuna zuzena!" : `‚ùå Erantzun zuzena: ${correctAnswer.join(", ")}`;
                    feedbackDiv.className = isCorrect ? "respuesta-correcta text-success-custom" : "respuesta-correcta text-danger-custom";
                }

                if (isCorrect) score++;
            });

            const resultados = {
                fecha: now,
                puntuacion: score,
                total: correctAnswers.length
            };

            emaitza.textContent = `üìä Emaitza: ${score}/${correctAnswers.length} galdera ondo erantzunda.`;
            localStorage.setItem("ultimos_resultados_gal", JSON.stringify(resultados));
            emaitza.classList.remove("d-none");

            // Scroll al resultado
            emaitza.scrollIntoView({ behavior: 'smooth' });
        });
    });
</script>
<script src="loader-menu.js"></script>

</body>
</html>